[
 {
  "breadcrumbs": null,
  "content_type": "Page Builder",
  "context_script": null,
  "css": ".full-width-image {\n  width: 100vw !important;\n  height: 100vh !important;\n  object-fit: cover !important;\n  display: block !important;\n  margin: 0 !important;\n  padding: 0 !important;\n}\nsection[data-section-template=\"Full Width Image\"] .container {\n  width: 100vw !important;\n  max-width: 100vw !important;\n  padding: 0 !important;\n  margin: 0 !important;\n}",
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 1,
  "javascript": "",
  "main_section": null,
  "main_section_html": null,
  "main_section_md": null,
  "meta_description": null,
  "meta_image": "",
  "meta_title": null,
  "modified": "2025-07-05 17:03:38.040700",
  "module": "Jim",
  "name": "landing-page",
  "page_blocks": [
   {
    "add_background_image": 0,
    "add_border_at_bottom": 0,
    "add_border_at_top": 0,
    "add_bottom_padding": 1,
    "add_container": 1,
    "add_shade": 0,
    "add_top_padding": 0,
    "background_image": null,
    "css_class": null,
    "hide_block": 0,
    "parent": "landing-page",
    "parentfield": "page_blocks",
    "parenttype": "Web Page",
    "section_id": null,
    "web_template": "Full Width Image",
    "web_template_values": "{\"url\":\"/files/individual-doing-sport-healthy-lifestyle (1).jpg\"}"
   }
  ],
  "published": 1,
  "route": "admin-dashboard",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Admin-Dashboard",
  "website_sidebar": ""
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "frappe.ready(() => {\n    // 1) Definitions for the first two reports\n    const reports = [\n        {\n            title: \"Most Popular Group Classes\",\n            name: \"Most Popular Group Classes\",\n            elementId: \"chart-group-classes\"\n        },\n        {\n            title: \"Monthly Revenue Report\",\n            name: \"Monthly Revenue Report\",\n            elementId: \"chart-revenue\"\n        }\n    ];\n\n    // Render the first two\n    reports.forEach(report => renderReport(report));\n\n    // 2) Setup Fitness Journey selector + placeholder\n    setupFitnessJourney();\n});\n\nfunction renderReport({ title, name, elementId, filters = {} }) {\n    frappe.call({\n        method: \"frappe.desk.query_report.run\",\n        args: { report_name: name, filters },\n        callback: r => {\n            if (!r.message || !r.message.chart || !r.message.chart.data) {\n                console.warn(`${title}: No chart data.`);\n                return;\n            }\n            drawChart(\n                document.getElementById(elementId).getContext(\"2d\"),\n                title,\n                r.message.chart\n            );\n        }\n    });\n}\n\nfunction drawChart(ctx, title, chart) {\n    new Chart(ctx, {\n        type: chart.type || \"bar\",\n        data: {\n            labels: chart.data.labels,\n            datasets: chart.data.datasets.map(ds => ({\n                label: ds.name,\n                data: ds.values,\n                backgroundColor: \"rgba(54, 162, 235, 0.6)\"\n            }))\n        },\n        options: {\n            responsive: true,\n            plugins: {\n                title: { display: true, text: title }\n            }\n        }\n    });\n}\n\nfunction setupFitnessJourney() {\n    // Populate the dropdown\n    frappe.call({\n        method: \"frappe.client.get_list\",\n        args: {\n            doctype: \"Gym Membership\",\n            fields: [\"member\", \"full_name\"],\n            limit_page_length: 100\n        },\n        callback: r => {\n            const select = document.getElementById(\"select-member\");\n            r.message.forEach(m => {\n                const opt = document.createElement(\"option\");\n                opt.value = m.member;\n                opt.textContent = `${m.full_name} (${m.member})`;\n                select.appendChild(opt);\n            });\n\n            // When a member is selected, render their fitness journey\n            select.onchange = () => {\n                const member = select.value;\n                if (!member) return;\n                // Clear out previous chart canvas\n                const wrapper = document.getElementById(\"fitness-wrapper\");\n                wrapper.innerHTML = `<canvas id=\"chart-fitness\" height=\"200\"></canvas>`;\n\n                renderReport({\n                    title: \"Fitness Journey Report\",\n                    name: \"Fitness Journey Report\",\n                    elementId: \"chart-fitness\",\n                    filters: { member }\n                });\n            };\n        }\n    });\n}\n",
  "main_section": null,
  "main_section_html": "<div class=\"container my-5\">\n  <h2 class=\"text-center mb-4\">ðŸ“Š Gym Reports</h2>\n\n  <!-- Most Popular Group Classes -->\n  <div class=\"mb-5\">\n    <h4>Most Popular Group Classes</h4>\n    <canvas id=\"chart-group-classes\" height=\"200\"></canvas>\n  </div>\n\n  <!-- Monthly Revenue -->\n  <div class=\"mb-5\">\n    <h4>Monthly Revenue Report</h4>\n    <canvas id=\"chart-revenue\" height=\"200\"></canvas>\n  </div>\n\n  <!-- Fitness Journey -->\n  <div class=\"mb-5\">\n    <h4>Fitness Journey Report</h4>\n    <label for=\"select-member\">Select Member:</label>\n    <select id=\"select-member\" class=\"form-control mb-3\">\n      <option value=\"\">-- choose a member --</option>\n    </select>\n    <div id=\"fitness-wrapper\">\n      <canvas id=\"chart-fitness\" height=\"200\"></canvas>\n    </div>\n  </div>\n</div>\n\n<!-- Load Chart.js on website pages -->\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-07-05 17:04:24.065566",
  "module": "Jim",
  "name": "reports-page",
  "page_blocks": [],
  "published": 1,
  "route": "reports-page",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Left",
  "title": "Reports-page",
  "website_sidebar": null
 }
]